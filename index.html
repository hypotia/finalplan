<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>簡易 URL 縮短器</title>
  <style>
    body {font-family:Helvetica,Arial,sans-serif; margin:2rem;}
    h1   {color:#2c3e50;}
    pre  {background:#f4f4f4; padding:0.5rem; border-radius:4px;}
    ul   {list-style:none; padding:0;}
    li   {margin:0.3rem 0;}
  </style>
  <script>
    /* ---------- 1️⃣ MAP：短碼 ↔ 長網址 ---------- */
    const MAP = {
      // 這裡的鍵必須是您想在網址列輸入的 **短碼**
      // 例： https://<username>.github.io/<repo>/uhavetokown
      "index.html": "https://www.notion.so/25b90b02047880baaad8cc0075c3453b?source=copy_link"

      // 如需再加一筆，記得在前一行最後加逗號：
      // ,"myblog": "https://example.com/blog"
    };

    /* ---------- 2️⃣ 主程式 ---------- */
    // 取得目前網址的路徑（去掉前後斜線），例如 "/uhavetokown" → "uhavetokown"
    const path = location.pathname.replace(/^\/|\/$/g, "");

    if (path) {                     // 有短碼的情況
      if (MAP[path]) {
        // 找到對應的長網址 → 301 永久重新導向
        location.replace(MAP[path]);
      } else {
        // 短碼不存在 → 顯示友善的錯誤訊息
        document.body.innerHTML = `
          <h2>找不到短網址</h2>
          <p>代碼：<code>${path}</code></p>
          <p>請確認您已在 <code>index.html</code> 的 <code>MAP</code> 中加入正確的映射。</p>`;
      }
    } else {
      // 沒有短碼（直接打開根網址） → 顯示說明與已設定的清單
      document.body.innerHTML = `
        <h1>簡易 URL 縮短器</h1>
        <p>使用方式：在網址後面加入您在 <code>MAP</code> 中設定的短碼，例如：</p>
        <pre>https://<your‑username>.github.io/<repo‑name>/uhavetokown</pre>
        <p>會自動跳轉到對應的長網址。</p>

        <h3>目前已設定的短碼</h3>
        <ul id="list"></ul>

        <script>
          const listEl = document.getElementById('list');
          for (const code in MAP) {
            const li = document.createElement('li');
            li.innerHTML = \`<strong>\${code}</strong> → <a href="\${MAP[code]}" target="_blank">\${MAP[code]}</a>\`;
            listEl.appendChild(li);
          }
        </script>`;
    }
  </script>
</head>
<body></body>
